<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>DEEP WORK ZAKARIA</title>
<style>
/* --- (CSS IDENTIQUE AU TIEN, NON TOUCH√â) --- */
body{
 margin:0;font-family:Arial,Helvetica,sans-serif;
 background:#0f172a;color:#fff;
 display:flex;justify-content:center;align-items:center;
 min-height:100vh;
}
.app{
 background:#020617;width:100%;max-width:460px;
 border-radius:20px;padding:20px;
 box-shadow:0 20px 50px rgba(0,0,0,.7);
}
h1{text-align:center;color:#38bdf8;margin-bottom:4px;}
#motivation{
 text-align:center;font-size:14px;font-weight:bold;margin-bottom:12px;
 background:linear-gradient(90deg,#fbbf24,#38bdf8,#f43f5e);
 -webkit-background-clip:text;-webkit-text-fill-color:transparent;
 animation: glow 2s infinite alternate;
}
@keyframes glow{
 0%{text-shadow:0 0 5px #fbbf24,0 0 10px #38bdf8;}
 50%{text-shadow:0 0 15px #f43f5e,0 0 25px #38bdf8;}
 100%{text-shadow:0 0 20px #fbbf24,0 0 30px #38bdf8;}
}
.timer{
 font-size:60px;font-weight:bold;display:flex;justify-content:center;align-items:center;gap:15px;margin-bottom:10px;
 padding:12px 20px;border:3px solid #38bdf8;border-radius:20px;
 box-shadow:0 0 20px rgba(56,189,248,0.7),0 0 40px rgba(56,189,248,0.5);
 background:linear-gradient(135deg,#0f172a,#1e293b);
}
.timer.attente{color:#94a3b8;}
.timer.cours{color:#22c55e;}
.timer.termine{color:#fbbf24;}
.info{text-align:center;color:#38bdf8;font-size:13px;margin-bottom:10px;}
.phase{background:#111827;border-radius:14px;padding:12px;margin-bottom:10px;}
input,select,button{
 width:100%;padding:8px;border-radius:8px;border:none;margin-top:6px;font-weight:bold;
}
button{background:#22c55e;color:#020617;}
.grid{display:grid;grid-template-columns:1fr 1fr;gap:10px;}
.card{background:#1e293b;border-radius:12px;padding:10px;text-align:center;}
#progressContainer{width:100%;height:20px;background:#1e293b;border-radius:10px;margin:10px 0;}
#progressBar{height:100%;width:0%;background:#22c55e;border-radius:10px;transition:.5s;}
</style>
</head>

<body>
<div class="app">
<h1>üß† DEEP WORK ZAKARIA</h1>
<div id="motivation">Discipline aujourd‚Äôhui, victoire demain.</div>

<div class="timer attente" id="timer">
 <span id="timerEmoji">‚è≥</span>
 <span id="timerTime">--:--</span>
</div>

<div id="progressContainer"><div id="progressBar"></div></div>

<div class="info" id="status">‚è≥ Attente</div>

<div class="phase">
 <input type="time" id="startTime">
 <select id="subject">
  <option value="">Mati√®re</option>
  <option>PC</option><option>HG</option><option>ANGLAIS</option>
  <option>FRAN√áAIS</option><option>MATHS</option><option>SVT</option>
 </select>
</div>

<button id="saveBtn">üîí ENREGISTRER</button>
</div>

<script>
// ================= NOTIFICATION =================
if ("Notification" in window && Notification.permission === "default") {
 Notification.requestPermission();
}

function showDeepWorkNotification(subject,time){
 if(Notification.permission!=="granted") return;
 const n=new Notification("üß† Deep Work ‚Äì Zakaria",{
  body:`Zakaria, l‚Äôheure que vous avez promis √† votre Deep Work est arriv√©e.\nMati√®re : ${subject} ‚Äì ${time}`,
  silent:true
 });
 setTimeout(()=>n.close(),600000);
}

let notifSent=false;

setInterval(()=>{
 const timeInput=document.getElementById("startTime").value;
 const subject=document.getElementById("subject").value;
 if(!timeInput||!subject||notifSent) return;

 const [h,m]=timeInput.split(":").map(Number);
 const now=new Date();
 const target=new Date();
 target.setHours(h,m,0,0);

 const diff=(target-now)/60000;
 if(diff<=5 && diff>4){
  showDeepWorkNotification(subject,timeInput);
  notifSent=true;
 }
 if(diff<-10) notifSent=false;
},1000);
</script>

</body>
</html>
